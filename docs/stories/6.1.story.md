# Story 6.1 — Runs List view (presentational UI)
Story ID: S6.1
Epic ID: E6



Status: Ready

User Story
- As an owner-operator,
- I want a Runs List view that fetches and displays runs with pagination and filters,
- So that I can browse existing runs and open one to review/play back.

Context
- UI is presentational; data comes from containers/services using TanStack Query. No data creation in components.


Dependencies
- Depends on: S2.2 (List runs API), S1.1 (FE skeleton if applicable)
- Blocks: S6.2 (Run Detail playback UI)

References
- UX Spec: docs/front-end-spec.md
- Wireframes: docs/ui/wireframes/runs-list.md
- Component Map: docs/frontend/component-map.md
- API: docs/api/openapi.yaml
- Coding Standards: docs/architecture/coding-standards.md

Definition of Ready
- UX assets linked (wireframe + component map)
- ACs measurable and testable; cite canonical docs
- QA mapping present (see docs/qa/story-to-qa-mapping.md)

Acceptance Criteria
1) GET /backtests is called via services/api.ts using TanStack Query; success renders a table with columns: run_id, created_at, strategy_id, status, symbol, from, to, duration_ms
2) Empty state renders a helpful message; loading and error states are handled
3) Pagination controls update limit/offset; filters (symbol, strategy_id) are wired (basic client-side or server-side by query params)
4) Components are presentational (no fetch/mutation). Containers wire data to components
5) Type-safety with Zod schemas for response mapping; basic runtime validation
6) Lint passes; no console errors; layout responsive

Dev Notes (sourced from architecture docs)
- Frontend philosophy: presentational components only; containers/services handle data [Source: architecture.md#source-tree-and-module-boundaries]
- API Contracts: GET /backtests shape and filters [Source: architecture.md#api-contracts-rest--websocket]
- Tech Stack: Vite + React + TS + Tailwind; TanStack Query; Zod [Source: architecture.md#tech-stack]

Technical Specifications
- Files/paths:
  - frontend/src/services/api.ts — REST client and query functions (listBacktests)
  - frontend/src/containers/RunsListContainer.tsx — uses TanStack Query, passes props to component
  - frontend/src/components/RunsTable.tsx — presentational table
  - Optional: frontend/src/components/FiltersBar.tsx — inputs for symbol/strategy_id
- Table behavior:
  - Display N rows per page (default 20)
  - "View" button navigates to Run Detail route `/runs/{run_id}` (router setup in FE skeleton)
- Validation:
  - Zod schema for RunSummary and list response; map server fields (from/to) to TS types

Tasks / Subtasks
- Define Zod schemas for RunSummary and ListResponse
- Implement listBacktests(query) in services/api.ts using fetch
- Build RunsTable presentational component (no hooks)
- Build RunsListContainer to fetch and pass props to RunsTable; wire FiltersBar
- Add route and link from table rows to Run Detail
- Run ESLint/Prettier; verify no warnings

Testing & Validation
- With empty DB: see empty state
- After sample rows exist: table shows runs; pagination/filters update results

Definition of Done
- Runs List displays runs with basic filters/pagination; adheres to presentational component rule; type-safe with Zod.


QA Results
- Gate: PASS
- Summary: Runs List presentational UI implemented; data via TanStack Query; manual build OK.
- Evidence: Frontend builds on Node 22; list view wires to /backtests with filters.
- Notes: Recommend adding Vitest + React Testing Library tests for table rendering and pagination.
